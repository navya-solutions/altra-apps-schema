<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:pro="http://www.liquibase.org/xml/ns/pro" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/pro http://www.liquibase.org/xml/ns/pro/liquibase-pro-4.1.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.1.xsd">
    <changeSet author="yogesh (generated)" id="1631403200905-1">
        <createTable tableName="block_aud">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="block_aud_pkey"/>
            </column>
            <column name="rev" type="INTEGER">
                <constraints nullable="false" primaryKey="true" primaryKeyName="block_aud_pkey"/>
            </column>
            <column name="revtype" type="SMALLINT"/>
            <column name="voting_minus_count" type="BIGINT"/>
            <column name="archived" type="BOOLEAN"/>
            <column name="block" type="JSONB"/>
            <column name="block_type" type="VARCHAR(255)"/>
            <column name="created_time" type="BIGINT"/>
            <column name="has_public_access" type="BOOLEAN"/>
            <column name="last_edited_time" type="BIGINT"/>
            <column name="pid" type="VARCHAR(255)"/>
            <column name="ref_block_pid" type="VARCHAR(255)"/>
            <column name="url" type="VARCHAR(255)"/>
            <column name="voting_plus_count" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-2">
        <createTable tableName="block_change_request">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="block_change_request_pkey"/>
            </column>
            <column name="change_description" type="VARCHAR(255)"/>
            <column name="change_request_block_type" type="VARCHAR(255)"/>
            <column name="change_request_status_type" type="VARCHAR(255)"/>
            <column name="change_request_type" type="VARCHAR(255)"/>
            <column name="pid" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="ref_id" type="VARCHAR(255)"/>
            <column name="user_ref_id" type="VARCHAR(255)"/>
            <column name="block_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-3">
        <createTable tableName="block">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="block_pkey"/>
            </column>
            <column name="voting_minus_count" type="BIGINT"/>
            <column name="archived" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
            <column name="block" type="JSONB"/>
            <column name="block_type" type="VARCHAR(255)"/>
            <column name="created_time" type="BIGINT"/>
            <column name="has_public_access" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
            <column name="last_edited_time" type="BIGINT"/>
            <column name="pid" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="ref_block_pid" type="VARCHAR(255)"/>
            <column name="url" type="VARCHAR(255)"/>
            <column name="voting_plus_count" type="BIGINT"/>
            <column name="topic_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-4">
        <createTable tableName="block_tag">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="block_tag_pkey"/>
            </column>
            <column name="topic_ref_pid" type="VARCHAR(255)"/>
            <column name="topic_title" type="VARCHAR(255)"/>
            <column name="block_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-5">
        <createTable tableName="country">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="country_pkey"/>
            </column>
            <column name="pid" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="short_code" type="VARCHAR(255)"/>
            <column name="title" type="VARCHAR(255)"/>
            <column name="curriculum_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-6">
        <createTable tableName="curriculum_change_request">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="curriculum_change_request_pkey"/>
            </column>
            <column name="change_description" type="VARCHAR(255)"/>
            <column name="change_request_object_type" type="VARCHAR(255)"/>
            <column name="change_request_status_type" type="VARCHAR(255)"/>
            <column name="change_request_type" type="VARCHAR(255)"/>
            <column name="pid" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="ref_id" type="VARCHAR(255)"/>
            <column name="user_ref_id" type="VARCHAR(255)"/>
            <column name="curriculum_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-7">
        <createTable tableName="curriculum">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="curriculum_pkey"/>
            </column>
            <column name="description" type="VARCHAR(255)"/>
            <column name="has_public_access" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
            <column name="pid" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="ref_curriculum_pid" type="VARCHAR(255)"/>
            <column name="short_title" type="VARCHAR(255)"/>
            <column name="title" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-8">
        <createTable tableName="topic_label">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="topic_label_pkey"/>
            </column>
            <column name="pid" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="sequence" type="INTEGER"/>
            <column name="title" type="VARCHAR(255)"/>
            <column name="curriculum_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-9">
        <createTable tableName="role">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="role_pkey"/>
            </column>
            <column name="description" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)"/>
            <column name="pid" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-10">
        <createTable tableName="users">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="users_pkey"/>
            </column>
            <column name="display_name" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)"/>
            <column name="pid" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="subscription_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="institution_id" type="BIGINT"/>
            <column name="role_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-11">
        <createTable tableName="language">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="language_pkey"/>
            </column>
            <column name="short_code" type="VARCHAR(255)"/>
            <column name="title" type="VARCHAR(255)"/>
            <column name="block_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-12">
        <createTable tableName="language_aud">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="language_aud_pkey"/>
            </column>
            <column name="rev" type="INTEGER">
                <constraints nullable="false" primaryKey="true" primaryKeyName="language_aud_pkey"/>
            </column>
            <column name="revtype" type="SMALLINT"/>
            <column name="short_code" type="VARCHAR(255)"/>
            <column name="title" type="VARCHAR(255)"/>
            <column name="block_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-13">
        <createTable tableName="revinfo">
            <column name="rev" type="INTEGER">
                <constraints nullable="false" primaryKey="true" primaryKeyName="revinfo_pkey"/>
            </column>
            <column name="revtstmp" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-14">
        <createTable tableName="topic">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="topic_pkey"/>
            </column>
            <column name="description" type="VARCHAR(255)"/>
            <column name="has_children" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
            <column name="label" type="VARCHAR(255)"/>
            <column name="pid" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="same_as" type="VARCHAR(255)"/>
            <column name="similar_to" type="VARCHAR(255)"/>
            <column name="title" type="VARCHAR(255)"/>
            <column name="topic_unit_title" type="VARCHAR(255)"/>
            <column name="curriculum_id" type="BIGINT"/>
            <column name="parent_id" type="BIGINT"/>
            <column name="topic_label_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-15">
        <createTable tableName="institution">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="institution_pkey"/>
            </column>
            <column name="description" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)"/>
            <column name="pid" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="ref_id" type="VARCHAR(255)"/>
            <column name="curriculum_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-16">
        <createTable tableName="tag">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="tag_pkey"/>
            </column>
            <column name="name" type="VARCHAR(255)"/>
            <column name="level_interests_id" type="BIGINT"/>
            <column name="topic_interests_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-17">
        <createTable tableName="subscription_type">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="subscription_type_pkey"/>
            </column>
            <column name="description" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)"/>
            <column name="pid" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-18">
        <addUniqueConstraint columnNames="pid" constraintName="uk_ahahcdlun29jwsc1forc4mclp" tableName="block_change_request"/>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-19">
        <addForeignKeyConstraint baseColumnNames="block_id" baseTableName="language" constraintName="fk8ds1h4nn6wdqkic7afhgnym5" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="block" validate="true"/>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-20">
        <addForeignKeyConstraint baseColumnNames="block_id" baseTableName="block_change_request" constraintName="fka7lpq8r7bt3r8keu9duwasss" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="block" validate="true"/>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-21">
        <addForeignKeyConstraint baseColumnNames="block_id" baseTableName="block_tag" constraintName="fkhx7gaag30pnd7w5tjmwycyo5e" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="block" validate="true"/>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-22">
        <addUniqueConstraint columnNames="pid" constraintName="uk_t3p19pjna9toss8a7pwyu9e4h" tableName="block"/>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-23">
        <addUniqueConstraint columnNames="pid" constraintName="uk_t26tuc042apvhw54rpngi6la1" tableName="country"/>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-24">
        <addUniqueConstraint columnNames="pid" constraintName="uk_r8j9d6cbat8m06ofxybxyxw2l" tableName="curriculum_change_request"/>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-25">
        <addForeignKeyConstraint baseColumnNames="curriculum_id" baseTableName="topic_label" constraintName="fk3mvb8hl32uqukmeux59wjp5hu" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="curriculum" validate="true"/>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-26">
        <addForeignKeyConstraint baseColumnNames="curriculum_id" baseTableName="country" constraintName="fk6r0ntnbjx5546v63mem686r7v" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="curriculum" validate="true"/>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-27">
        <addForeignKeyConstraint baseColumnNames="curriculum_id" baseTableName="topic" constraintName="fkgymh5vic7lrfoy8lyln35a1aa" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="curriculum" validate="true"/>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-28">
        <addForeignKeyConstraint baseColumnNames="curriculum_id" baseTableName="curriculum_change_request" constraintName="fkouqc3ymvdwh8mheebcfmnk5i7" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="curriculum" validate="true"/>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-29">
        <addForeignKeyConstraint baseColumnNames="curriculum_id" baseTableName="institution" constraintName="fkrwvc5mmqe65rktt9i3ufbi394" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="curriculum" validate="true"/>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-30">
        <addUniqueConstraint columnNames="pid" constraintName="uk_pwh59fdsnrd75eilxqi6b08b0" tableName="curriculum"/>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-31">
        <addUniqueConstraint columnNames="pid" constraintName="uk_nkgbf9y0rvmt4twlmjxq6ensv" tableName="topic_label"/>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-32">
        <addUniqueConstraint columnNames="pid" constraintName="uk_oiui0bbed748reed959tjjlgg" tableName="role"/>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-33">
        <addForeignKeyConstraint baseColumnNames="role_id" baseTableName="users" constraintName="fk4qu1gr772nnf6ve5af002rwya" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="role" validate="true"/>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-34">
        <addUniqueConstraint columnNames="pid" constraintName="uk_83oqyr6c7xb2c5y2hncwmlin4" tableName="users"/>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-35">
        <addForeignKeyConstraint baseColumnNames="topic_label_id" baseTableName="topic" constraintName="fke679b6a4edyobvprraj7mjoih" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="topic_label" validate="true"/>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-36">
        <addUniqueConstraint columnNames="pid" constraintName="uk_7vk97fb7cc4wy2b5uwophxo4" tableName="topic"/>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-37">
        <addUniqueConstraint columnNames="pid" constraintName="uk_eg2lt16uu4xnesbkvvcdob65w" tableName="institution"/>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-38">
        <addUniqueConstraint columnNames="pid" constraintName="uk_500geiltv01faeap1js2a5edb" tableName="subscription_type"/>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-39">
        <addForeignKeyConstraint baseColumnNames="rev" baseTableName="block_aud" constraintName="fkndsyvqjax1wwk4gb3xjlilc6o" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="rev" referencedTableName="revinfo" validate="true"/>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-40">
        <addForeignKeyConstraint baseColumnNames="topic_id" baseTableName="block" constraintName="fkdxh7ihwqxcqhnkspsa91ubcc6" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="topic" validate="true"/>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-41">
        <addForeignKeyConstraint baseColumnNames="institution_id" baseTableName="users" constraintName="fkes3l5tviwmnu2d0gy350kdfht" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="institution" validate="true"/>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-42">
        <addForeignKeyConstraint baseColumnNames="subscription_id" baseTableName="users" constraintName="fklyno40pkyawttif0n60i04772" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="subscription_type" validate="true"/>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-43">
        <addForeignKeyConstraint baseColumnNames="rev" baseTableName="language_aud" constraintName="fkadkpre8edt1b93q10c2us67in" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="rev" referencedTableName="revinfo" validate="true"/>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-44">
        <addForeignKeyConstraint baseColumnNames="parent_id" baseTableName="topic" constraintName="fkipo6144dvb6o1rb1rgo88ut4d" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="topic" validate="true"/>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-45">
        <addForeignKeyConstraint baseColumnNames="topic_interests_id" baseTableName="tag" constraintName="fkeyprhq1kxbxqna036txwl3fyc" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="tag" validate="true"/>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-46">
        <addForeignKeyConstraint baseColumnNames="level_interests_id" baseTableName="tag" constraintName="fkrhdmb044knqxknwjjfgeqnxcy" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="tag" validate="true"/>
    </changeSet>
    <changeSet author="yogesh (generated)" id="1631403200905-47">
        <createSequence cacheSize="1" cycle="false" dataType="bigint" incrementBy="1" maxValue="9223372036854775807" minValue="1" sequenceName="hibernate_sequence" startValue="1"/>
    </changeSet>
</databaseChangeLog>
